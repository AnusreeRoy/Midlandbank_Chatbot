<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
<div class="chatbot-container">
  <!-- Text Message -->
  <span class="chatbot-text">Need help? Ask Us!</span>

  <!-- Chatbot Icon -->
  <img src="chat-icon.png" alt="Chatbot Icon" class="chatbot-icon" (click)="toggleChat()" />

  <!-- Chat Interface -->
  <div *ngIf="chatVisible" class="chat-interface" [ngClass]="{expanded: isExpanded}">
    <!-- Chat Header -->
    <div class="chat-header">
      <h4>Midland Bank AI Assistant</h4>
      <div class="chat-header-buttons">
      <button (click)="toggleExpand()" class="expand-btn">
        <i class="fa-solid" [ngClass]="isExpanded? 'fa-compress': 'fa-expand'"></i>
      </button>
      <button (click)="toggleChat()">Ã—</button>
    </div>
    </div>

    <!-- Chat Body -->
    <div #chatBody class="chat-body">
      <div *ngFor="let message of chatHistory" class="message-container">
        <div [ngClass]="{ 'user-message': message.isUser, 'bot-message': !message.isUser }">
          <img *ngIf="message.isUser" src="user-icon.png" alt="User Icon" class="user-message-icon" />
          <img *ngIf="!message.isUser" src="chat-icon.png" alt="Bot Icon" class="message-icon" />
          <p [innerHTML]="message.text | linebreaks"></p>
          <span *ngIf="message.isLoading" class="loading-indicator"></span>
        </div>
      </div>
    </div>

    <!-- Chat Footer -->
    <div class="chat-footer">
      <div class="input-container">
      <input
      #chatInput
      type="text"
      [(ngModel)]="userQuery"
      placeholder="Message Assistant"
      (keydown.enter)="sendMessage()" />
    <button (click)="sendMessage()">
      <i class="fa-solid fa-paper-plane"></i>
    </button>
    </div>
  </div>
</div>
